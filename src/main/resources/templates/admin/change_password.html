<!doctype html>
<html lang="id"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base_layout}">

<head>
    <title>Change Password</title>
</head>

<body>
<section layout:fragment="content">

    <div class="container mt-4">

        <!-- TITLE -->
        <h3 th:text="${mode == 'SELF'} ?
                'Change My Password' :
                'Change User Password'">
        </h3>
        <p class="text-muted">
            <span th:text="${mode == 'SELF'} ?
                'Update your account password' :
                'Update password for selected user'">
            </span>
        </p>

        <div class="card shadow-sm">
            <div class="card-body">

                <form th:action="${mode == 'SELF'} ?
                        @{/users/me/password} :
                        @{/users/{id}/password(id=${userId})}"
                      method="post"
                      th:object="${password}">

                    <!-- OLD PASSWORD (SELF ONLY) -->
                    <div class="mb-3" th:if="${mode == 'SELF'}">
                        <label class="form-label">Current Password</label>
                        <input type="password"
                               class="form-control"
                               th:field="*{oldPassword}"
                               placeholder="Enter current password">
                    </div>

                    <!-- NEW PASSWORD -->
                    <div class="mb-3">
                        <label class="form-label">New Password</label>
                        <input type="password"
                               class="form-control"
                               th:field="*{newPassword}"
                               placeholder="Enter new password">
                    </div>

                    <!-- CONFIRM PASSWORD -->
                    <div class="mb-3">
                        <label class="form-label">Confirm New Password</label>
                        <input type="password"
                               class="form-control"
                               th:field="*{confirmPassword}"
                               placeholder="Confirm new password">
                    </div>

                    <!-- BUTTONS -->
                    <div class="d-flex justify-content-between mt-3">

                        <button type="submit"
                                class="btn btn-success">
                            <i class="fa fa-key me-1"></i>
                            <span th:text="${mode == 'SELF'} ?
                                  'Change Password' :
                                  'Change User Password'">
                            </span>
                        </button>

                        <a th:href="${mode == 'SELF'} ?
                                    '/users/me' :
                                    '/users'"
                           class="btn btn-secondary">
                            Cancel
                        </a>

                    </div>

                </form>

            </div>
        </div>

    </div>

</section>
</body>
</html>
